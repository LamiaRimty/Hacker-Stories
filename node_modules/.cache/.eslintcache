[{"/home/rimty/Desktop/Front-End Web Development with React/Hacker-Stories/src/index.js":"1","/home/rimty/Desktop/Front-End Web Development with React/Hacker-Stories/src/App.js":"2","/home/rimty/Desktop/Front-End Web Development with React/Hacker-Stories/src/reportWebVitals.js":"3"},{"size":500,"mtime":1634791969562,"results":"4","hashOfConfig":"5"},{"size":3742,"mtime":1640355675579,"results":"6","hashOfConfig":"5"},{"size":362,"mtime":1634791969563,"results":"7","hashOfConfig":"5"},{"filePath":"8","messages":"9","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"1p02267",{"filePath":"11","messages":"12","errorCount":1,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"13"},{"filePath":"14","messages":"15","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"10"},"/home/rimty/Desktop/Front-End Web Development with React/Hacker-Stories/src/index.js",[],["16","17"],"/home/rimty/Desktop/Front-End Web Development with React/Hacker-Stories/src/App.js",["18"],"import React from 'react';\n\nconst API_ENDPOINT = 'https://hn.algolia.com/api/v1/search?query= ';\n\n\nconst useSemiPersistentState = (key, initialState) => { //save & get\n\n  const [value, setValue] = React.useState(\n    localStorage.getItem(key) || initialState //search box e '' likha thakbe\n\n  );\n\n  React.useEffect(() => {\n    localStorage.getItem(key, value);\n  },\n    [value, key]); //1st argu=sideeffect occures\n\n\n  return [value, setValue];\n};\n\n\n\nconst storiesReducer = (state, action) => {\n\n  switch (action.type) {\n\n    case 'STOREIS_FETCH_INIT':\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n\n    case 'STORIES_FETCH_SUCCESS':\n\n      return {\n        ...state,\n        isLoading: false,\n        isError: false,\n        data: action.payload,\n\n      };\n\n    case 'STORIES_FETCH_FAILURE':\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n\n    case 'REMOVE_STORY':\n      return{\n        ...state,\n        data: state.data.filter(\n          story=>action.payload.objectID!==story.objectID\n        ),\n      }\n\n    default:\n\n      return {\n        ...state,\n\n      };\n\n    //throw new Error();\n\n  }\n};\n\n\nconst App = () => {\n\n\n  const [searchTerm, setSearchTerm] = useSemiPersistentState('search', 'React');\n  const [stories, dispatchStories] = React.useReducer(\n    storiesReducer,\n    { data: [], isLoading: false, isError: false }\n\n  );\n\n  const handleFetchStories=React.useCallback(()={\n    if (!searchTerm) return;\n  \n  dispatchStories({ type: 'STORIES_FETCH_INIT' });\n  \n  \n  fetch(`${API_ENDPOINT}${searchTerm}`);\n    .then(response => response.json())\n    .then(result => { //set a call\n      dispatchStories({\n        type: 'STORIES_FETCH_SUCCESS',\n        payload: result.hits,\n      });\n  \n    })\n    .catch(() =>\n      dispatchStories({ type: 'STORIES_FETCH_FAILURE' })\n    );\n  },[searchTerm]);\n  \n\n  React.useEffect(() => {\n    handleFetchStories();\n  }, [handleFetchStories]);\n\n  const handleRemoveStory = item => {\n    dispatchStories({\n      type: 'REMOVE_STORY',\n      payload: item,\n    });\n  };\n\n\n  const handleSearch = event => {\n\n    setSearchTerm(event.target.value);\n  };\n\n  return (\n    <div>\n      <h1>My Hacker Stories</h1>\n      <InputWithLabel\n        id=\"search\"\n        value={searchTerm}\n        isFocused\n        onInputChange={handleSearch}\n      >\n        <strong>Search:</strong>\n      </InputWithLabel>\n      <hr />\n      {stories.isError && <p>Something went wrong...</p>}\n      {\n        stories.isLoading ? (\n          <p>Loading...</p>\n        ) : (\n          <List list={stories.data}\n            onRemoveItem={handleRemoveStory}\n          />\n        )\n      }\n\n    </div>\n  );\n};\n\nconst InputWithLabel = ({\n  id,\n  value,\n  type = 'text',\n  onInputChange,\n  isFocused,\n  children,\n\n}) => {\n  const inputRef = React.useRef();\n\n  React.useEffect(() => {\n    if (isFocused) {\n\n      inputRef.current.focus();\n    }\n  }, [isFocused]);\n\n  return (\n    <>\n      <label htmlFor={id}>{children}</label>\n      &nbsp;\n      <input\n        ref={inputRef}\n        id={id}\n        type={type}\n        value={value}\n        onChange={onInputChange}\n      />\n    </>\n  );\n\n};\n\n\n\n\nconst List = ({ list, onRemoveItem }) =>\n\n  list.map(item => (\n    <Item\n      key={item.objectID}\n      item={item}\n      onRemoveItem={onRemoveItem}\n    />));\n\nconst Item = ({ item, onRemoveItem }) => (\n\n\n  <div>\n    <span>\n\n      <a href={item.url}>{item.title}</a>\n    </span>\n    <span>{item.author}</span>\n    <span>{item.num_commnets}</span>\n    <span>{item.points}</span>\n    <span>\n      <button\n        type=\"button\"\n        onClick={() => onRemoveItem(item)} >\n        Dismiss\n      </button>\n    </span>\n  </div>\n);\nexport default App;\n","/home/rimty/Desktop/Front-End Web Development with React/Hacker-Stories/src/reportWebVitals.js",[],{"ruleId":"19","replacedBy":"20"},{"ruleId":"21","replacedBy":"22"},{"ruleId":null,"fatal":true,"severity":2,"message":"23","line":83,"column":47},"no-native-reassign",["24"],"no-negated-in-lhs",["25"],"Parsing error: Unexpected token\n\n\u001b[0m \u001b[90m 81 |\u001b[39m   )\u001b[33m;\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 82 |\u001b[39m\u001b[0m\n\u001b[0m\u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 83 |\u001b[39m   \u001b[36mconst\u001b[39m handleFetchStories\u001b[33m=\u001b[39m\u001b[33mReact\u001b[39m\u001b[33m.\u001b[39museCallback(()\u001b[33m=\u001b[39m{\u001b[0m\n\u001b[0m \u001b[90m    |\u001b[39m                                               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 84 |\u001b[39m     \u001b[36mif\u001b[39m (\u001b[33m!\u001b[39msearchTerm) \u001b[36mreturn\u001b[39m\u001b[33m;\u001b[39m\u001b[0m\n\u001b[0m \u001b[90m 85 |\u001b[39m   \u001b[0m\n\u001b[0m \u001b[90m 86 |\u001b[39m   dispatchStories({ type\u001b[33m:\u001b[39m \u001b[32m'STORIES_FETCH_INIT'\u001b[39m })\u001b[33m;\u001b[39m\u001b[0m","no-global-assign","no-unsafe-negation"]